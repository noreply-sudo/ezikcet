<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Maths Master - KCET</title>
    <link rel="apple-touch-icon" href="logo.png">
    <meta name="theme-color" content="#d63384">
    <style>
        /* --- CORE THEME (CRIMSON/LOGIC VIBE) --- */
        :root {
            --primary: #d63384;       /* Hot Pink/Red */
            --primary-dark: #a02060;
            --accent: #ffc107;        /* Warning Yellow for 'Traps' */
            --bg: #fdf2f7;
            --text: #212529;
            --card-bg: #ffffff;
            --calc-blue: #0d6efd;     /* Calculus */
            --alg-orange: #fd7e14;    /* Algebra */
            --geom-green: #198754;    /* Geometry */
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg); color: var(--text);
            margin: 0; padding: 0;
            display: flex; flex-direction: column; align-items: center;
            height: 100vh; overflow: hidden;
        }

        /* --- HEADER --- */
        .header {
            width: 100%; max-width: 600px; padding: 15px 20px; box-sizing: border-box;
            display: flex; align-items: center; background: rgba(255,255,255,0.95); 
            border-bottom: 1px solid #f3d9e6; z-index: 20; flex-shrink: 0;
            backdrop-filter: blur(10px);
        }
        .back-btn { 
            text-decoration: none; font-size: 1rem; color: var(--primary); 
            font-weight: 700; margin-right: 15px; display: flex; align-items: center;
            background: #fce4ec; padding: 8px 12px; border-radius: 8px;
        }
        h1 { margin: 0; font-size: 1.3rem; color: var(--text); font-weight: 800; letter-spacing: -0.5px; }

        /* --- SCROLLABLE LIST --- */
        .scroll-area {
            width: 100%; max-width: 600px; flex: 1; overflow-y: auto;
            padding: 20px; box-sizing: border-box; padding-bottom: 80px;
            scroll-behavior: smooth;
        }

        /* --- SECTION HEADERS --- */
        .section-header {
            font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1.5px;
            color: #6c757d; font-weight: 800; margin: 30px 0 15px 5px;
            display: flex; align-items: center;
        }
        .section-header::after { content:''; flex:1; height:1px; background:#dee2e6; margin-left:15px; }

        /* --- TOPIC CARDS --- */
        .topic-card {
            background: var(--card-bg); border-radius: 16px;
            padding: 22px; margin-bottom: 16px;
            box-shadow: 0 4px 15px rgba(214, 51, 132, 0.05); cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative; overflow: hidden;
            display: flex; align-items: center; border: 1px solid white;
        }
        .topic-card:active { transform: scale(0.97); }
        
        /* Decorative Strip */
        .topic-card::before {
            content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 6px;
            background: linear-gradient(180deg, var(--primary), #ff4081);
        }
        
        .topic-info { flex: 1; margin-left: 12px; }
        .topic-title { font-weight: 800; font-size: 1.1rem; margin-bottom: 6px; display: block; color: var(--text); }
        .topic-subtitle { font-size: 0.85rem; color: #6c757d; font-weight: 500; line-height: 1.3; }
        
        .topic-tag {
            font-size: 0.7rem; padding: 3px 8px; border-radius: 10px; font-weight: bold;
            text-transform: uppercase; margin-top: 5px; display: inline-block;
        }
        .tag-calc { background: #e7f5ff; color: #0d6efd; }
        .tag-alg { background: #fff3e0; color: #e65100; }
        .tag-geom { background: #e8f5e9; color: #1b5e20; }

        /* --- READER OVERLAY --- */
        #reader-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: white; z-index: 100; display: none;
            flex-direction: column; opacity: 0; transition: opacity 0.3s ease;
        }
        #reader-overlay.visible { opacity: 1; }

        .reader-header {
            padding: 15px 20px; border-bottom: 1px solid #eee;
            display: flex; justify-content: space-between; align-items: center;
            background: white; flex-shrink: 0; z-index: 101;
        }
        .close-btn { 
            background: #f8f9fa; border: none; width: 40px; height: 40px; 
            border-radius: 50%; font-size: 1.5rem; cursor: pointer; color: #333;
            display: flex; justify-content: center; align-items: center;
            transition: background 0.2s;
        }
        .close-btn:active { background: #e2e6ea; }

        .reader-content {
            flex: 1; overflow-y: auto; padding: 25px; line-height: 1.8;
            max-width: 700px; margin: 0 auto; width: 100%; box-sizing: border-box;
            background: #fff; padding-bottom: 100px;
        }

        /* --- MATH GRAPHICS & STYLING --- */
        
        .reader-content h2 { 
            color: var(--primary); font-size: 2rem; margin-top: 10px; margin-bottom: 20px;
            font-weight: 900; letter-spacing: -1px; line-height: 1.1;
        }
        
        .reader-content h3 { 
            margin-top: 40px; margin-bottom: 15px; font-size: 1.2rem; 
            color: #343a40; font-weight: 700; position: relative; padding-left: 20px;
        }
        /* Pi Symbol for H3 */
        .reader-content h3::before {
            content: 'œÄ'; position: absolute; left: 0; top: 50%; transform: translateY(-50%);
            color: var(--primary); font-weight: 900; font-family: serif;
        }

        /* 1. Fun Intro Box */
        .fun-intro { 
            background: linear-gradient(135deg, #fff0f6 0%, #ffeaf2 100%);
            padding: 25px; border-radius: 16px; margin-bottom: 30px; 
            border: 1px solid #f8bbd0; position: relative; color: #880e4f;
        }
        .fun-intro::after {
            content: 'üìê'; position: absolute; top: -15px; right: 20px; font-size: 2rem;
            background: white; padding: 5px; border-radius: 50%; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* 2. Formula Blueprint (Dark Mode) */
        .formula-box {
            background: #212529; color: #ffeb3b; /* Yellow text for contrast */
            padding: 25px; border-radius: 12px; font-family: 'Courier New', monospace;
            margin: 25px 0; position: relative; overflow: hidden;
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5); border: 1px solid #343a40;
        }
        .formula-box strong { color: #f48fb1; display: block; margin-bottom: 8px; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }
        .formula-box em { color: #ffffff; font-style: normal; font-weight: bold; font-size: 1.15rem; display: block; margin-bottom: 5px; }

        /* 3. Speed Trick / Racing Box */
        .speed-box {
            background: #fff3cd; border: 2px dashed #ffc107;
            padding: 20px; border-radius: 12px; margin: 25px 0;
            color: #856404; position: relative;
        }
        .speed-title { font-weight: 800; text-transform: uppercase; font-size: 0.9rem; color: #d39e00; display: block; margin-bottom: 10px; }
        .speed-box::before {
            content: 'üèéÔ∏è SPEED HACK'; position: absolute; top: -12px; left: 20px;
            background: #ffc107; color: #000; font-weight: bold; font-size: 0.7rem; padding: 2px 8px; border-radius: 4px;
        }

        /* 4. Trap Alert Box */
        .trap-box {
            background: #f8d7da; color: #721c24;
            padding: 15px; border-radius: 8px; margin-top: 20px;
            border-left: 4px solid #dc3545; display: flex; align-items: start;
        }
        .trap-box::before { content: '‚ö†Ô∏è'; margin-right: 10px; font-size: 1.2rem; }

        /* Lists */
        ul { padding-left: 20px; list-style-type: none; }
        li { margin-bottom: 10px; position: relative; padding-left: 25px; }
        li::before {
            content: '‚û§'; color: var(--primary); font-size: 0.8rem;
            position: absolute; left: 0; top: 3px;
        }

    </style>
</head>
<body>

    <div class="header">
        <a href="index.html" class="back-btn">
            <span style="font-size:1.2rem; margin-right:5px;">‚Üê</span> Home
        </a>
        <h1 style="margin-left: auto;">Maths Gym</h1>
    </div>

    <div class="scroll-area" id="topic-list">
        </div>

    <div id="reader-overlay">
        <div class="reader-header">
            <span style="font-weight:700; color:var(--primary); font-size: 0.9rem; text-transform:uppercase; letter-spacing:1px;" id="reader-category">Class 11</span>
            <button class="close-btn" onclick="closeReader()">√ó</button>
        </div>
        <div class="reader-content">
            <h2 id="reader-title">Topic Title</h2>
            <div id="reader-body">
                </div>
        </div>
    </div>

    <script>
        // --- 1. DATA REPOSITORY (25 TOPICS) ---
        const mathData = [
            
            // === CLASS 11 (I PUC) ===
            
            {
                class: "11",
                type: "Algebra",
                title: "Sets & Relations",
                subtitle: "Venn Diagrams & Subsets",
                content: `
                    <div class="fun-intro">Logic in pictures. Don't memorize, just draw circles!</div>
                    

[Image of set theory diagrams]

                    <h3>1. Important Formulas</h3>
                    <div class="formula-box">
                        <strong>Union & Intersection</strong>
                        <em>n(A‚à™B) = n(A) + n(B) - n(A‚à©B)</em>
                        <strong>Subsets</strong>
                        <em>Number of Subsets = 2‚Åø</em>
                    </div>

                    <h3>2. Types of Relations</h3>
                    <ul>
                        <li><strong>Reflexive:</strong> Every element loves itself (a,a).</li>
                        <li><strong>Symmetric:</strong> If I love you, you love me (a,b) ‚Üí (b,a).</li>
                        <li><strong>Transitive:</strong> Friend of a friend is a friend.</li>
                    </ul>

                    <div class="speed-box">
                        <span class="speed-title">Calculation Trick</span>
                        For Total Relations: If Set A has $m$ elements and Set B has $n$, total relations = $2^{mn}$.
                    </div>
                `
            },
            {
                class: "11",
                type: "Algebra",
                title: "Trigonometry",
                subtitle: "The Formula Jungle",
                content: `
                    <div class="fun-intro">Sin, Cos, and Tan walk into a bar... The Formulas here are key for Calculus too!</div>
                    

[Image of unit circle trigonometry]

                    <h3>1. Quadrant Rule</h3>
                    <p><strong>ASTC Rule:</strong></p>
                    <ul>
                        <li><strong>A</strong>ll positive (1st)</li>
                        <li><strong>S</strong>in positive (2nd)</li>
                        <li><strong>T</strong>an positive (3rd)</li>
                        <li><strong>C</strong>os positive (4th)</li>
                    </ul>

                    <h3>2. Compound Angles</h3>
                    <div class="formula-box">
                        <em>sin(A+B) = sinAcosB + cosAsinB</em>
                        <em>cos(A+B) = cosAcosB - sinAsinB</em>
                        <em>tan(A+B) = (tanA + tanB) / (1 - tanAtanB)</em>
                    </div>

                    <h3>3. Sine & Cosine Rule</h3>
                    <p>For any triangle ABC:</p>
                    <ul>
                        <li><strong>Sine:</strong> a/sinA = b/sinB = c/sinC</li>
                        <li><strong>Cosine:</strong> $c^2 = a^2 + b^2 - 2ab \cos C$</li>
                    </ul>
                `
            },
            {
                class: "11",
                type: "Algebra",
                title: "Complex Numbers",
                subtitle: "Imaginary Friends",
                content: `
                    <div class="fun-intro">The square root of -1 exists here. $i^2 = -1$.</div>

                    <h3>1. Modulus & Argument</h3>
                    <p>For $z = x + iy$:</p>
                    <div class="formula-box">
                        <strong>Modulus (Distance)</strong>
                        <em>|z| = ‚àö(x¬≤ + y¬≤)</em>
                        <strong>Amplitude (Angle)</strong>
                        <em>Œ∏ = tan‚Åª¬π(y/x)</em>
                    </div>

                    <h3>2. Cube Roots of Unity (œâ)</h3>
                    <p>Often asked in KCET!</p>
                    <ul>
                        <li>$1 + \omega + \omega^2 = 0$</li>
                        <li>$\omega^3 = 1$</li>
                    </ul>

                    <div class="speed-box">
                        <span class="speed-title">i Power Cycle</span>
                        Powers of $i$ repeat every 4.
                        <br>$i^{4n} = 1$, $i^{4n+1} = i$, $i^{4n+2} = -1$, $i^{4n+3} = -i$.
                    </div>
                `
            },
            {
                class: "11",
                type: "Algebra",
                title: "Inequalities",
                subtitle: "Wavy Curve Method",
                content: `
                    <div class="fun-intro">Algebra isn't always equal. Sometimes one side is bigger.</div>

                    <h3>1. The Rules</h3>
                    <p>If you multiply/divide by a <strong>Negative</strong> number, FLIP the sign! ($>$ becomes $<$).</p>

                    <h3>2. Wavy Curve Method</h3>
                    <p>Used for $(x-a)(x-b) > 0$.</p>
                    <ul>
                        <li>Mark points $a, b$ on number line.</li>
                        <li>Start from right with (+).</li>
                        <li>Alternate signs (+ - +) at each root (if power is odd).</li>
                    </ul>
                `
            },
            {
                class: "11",
                type: "Algebra",
                title: "Permutation & Combination",
                subtitle: "Counting Without Counting",
                content: `
                    <div class="fun-intro">Order matters in Permutation (Password). Order doesn't matter in Combination (Fruit Salad).</div>

                    <h3>1. Formulas</h3>
                    <div class="formula-box">
                        <strong>Selection (Combination)</strong>
                        <em>nCr = n! / [r!(n-r)!]</em>
                        <strong>Arrangement (Permutation)</strong>
                        <em>nPr = n! / (n-r)!</em>
                    </div>

                    <h3>2. Key Properties</h3>
                    <ul>
                        <li>$nC_r = nC_{n-r}$ (Choosing 2 to keep is same as choosing 8 to throw).</li>
                        <li>$nC_r + nC_{r-1} = {n+1}C_r$</li>
                    </ul>

                    <div class="trap-box">
                        <strong>Trap:</strong> Don't confuse 'AND' (Multiply) with 'OR' (Add).
                    </div>
                `
            },
            {
                class: "11",
                type: "Algebra",
                title: "Binomial Theorem",
                subtitle: "Expanding (a+b)^n",
                content: `
                    <div class="fun-intro">Pascal's Triangle in formula form.</div>

                    <h3>1. General Term</h3>
                    <div class="formula-box">
                        <em>T_{r+1} = nCr a^{n-r} b^r</em>
                    </div>
                    <p>Use this to find specific terms (like term independent of x).</p>

                    <h3>2. Middle Term</h3>
                    <ul>
                        <li>If n is even: Term $(n/2 + 1)$</li>
                        <li>If n is odd: Terms $((n+1)/2)$ and $((n+3)/2)$</li>
                    </ul>

                    <div class="speed-box">
                        <span class="speed-title">Sum of Coefficients</span>
                        Put variables = 1.
                        <br>Example: Sum of coeffs in $(x + 3y)^5$ ‚Üí Put x=1, y=1 ‚Üí $(1+3)^5 = 4^5$.
                    </div>
                `
            },
            {
                class: "11",
                type: "Algebra",
                title: "Sequence & Series",
                subtitle: "AP, GP & Sigma",
                content: `
                    <div class="fun-intro">Patterns in numbers. 2, 4, 6, 8... who do we appreciate? MATH!</div>

                    <h3>1. Arithmetic Progression (AP)</h3>
                    <p>$T_n = a + (n-1)d$. Sum $S_n = n/2 [2a + (n-1)d]$.</p>

                    <h3>2. Geometric Progression (GP)</h3>
                    <p>$T_n = ar^{n-1}$. Sum $S_n = a(r^n - 1)/(r-1)$.</p>

                    <h3>3. AM-GM Inequality</h3>
                    <div class="formula-box">
                        <em>AM ‚â• GM</em>
                        <em>(a+b)/2 ‚â• ‚àö(ab)</em>
                    </div>
                    <p>Use this to find Min/Max values of products!</p>
                `
            },
            {
                class: "11",
                type: "Geometry",
                title: "Straight Lines",
                subtitle: "Slopes & Intercepts",
                content: `
                    <div class="fun-intro">The shortest distance between two points.</div>

                    <h3>1. Equation Forms</h3>
                    <ul>
                        <li><strong>Slope-Point:</strong> $y - y_1 = m(x - x_1)$</li>
                        <li><strong>Two-Point:</strong> slope $m = (y_2-y_1)/(x_2-x_1)$</li>
                        <li><strong>Intercept:</strong> $x/a + y/b = 1$</li>
                    </ul>

                    <h3>2. Distance Formula</h3>
                    <div class="formula-box">
                        <strong>Point to Line</strong>
                        <em>d = |Ax‚ÇÅ + By‚ÇÅ + C| / ‚àö(A¬≤ + B¬≤)</em>
                        <strong>Parallel Lines</strong>
                        <em>d = |C‚ÇÅ - C‚ÇÇ| / ‚àö(A¬≤ + B¬≤)</em>
                    </div>
                `
            },
            {
                class: "11",
                type: "Geometry",
                title: "Conic Sections",
                subtitle: "Circle, Parabola, Ellipse",
                content: `
                    <div class="fun-intro">Slicing a cone in different angles gives you these shapes.</div>
                    

[Image of conic sections]

                    <h3>1. Standard Equations</h3>
                    <div class="formula-box">
                        <strong>Circle</strong>
                        <em>(x-h)¬≤ + (y-k)¬≤ = r¬≤</em>
                        <strong>Parabola</strong>
                        <em>y¬≤ = 4ax (Right handed)</em>
                        <strong>Ellipse</strong>
                        <em>x¬≤/a¬≤ + y¬≤/b¬≤ = 1 (e < 1)</em>
                    </div>

                    <h3>2. Eccentricity (e)</h3>
                    <ul>
                        <li>Circle: $e = 0$</li>
                        <li>Parabola: $e = 1$</li>
                        <li>Ellipse: $0 < e < 1$</li>
                        <li>Hyperbola: $e > 1$</li>
                    </ul>
                `
            },
            {
                class: "11",
                type: "Geometry",
                title: "3D Geometry (Intro)",
                subtitle: "x, y and z axes",
                content: `
                    <div class="fun-intro">Welcome to the real world. Points now have 3 coordinates (x, y, z).</div>

                    <h3>1. Distance Formula</h3>
                    <p>Same as 2D, just add z!</p>
                    <div class="formula-box">
                        <em>D = ‚àö[(x‚ÇÇ-x‚ÇÅ)¬≤ + (y‚ÇÇ-y‚ÇÅ)¬≤ + (z‚ÇÇ-z‚ÇÅ)¬≤]</em>
                    </div>

                    <h3>2. Section Formula</h3>
                    <p>Point dividing line in ratio $m:n$.</p>
                    <p>$x = (mx_2 + nx_1) / (m+n)$ (Same for y, z).</p>
                    
                    <div class="trap-box">
                        <strong>Octants:</strong> In 3D, there are 8 octants (not 4 quadrants). Watch the signs of x,y,z to find which octant.
                    </div>
                `
            },
            {
                class: "11",
                type: "Calculus",
                title: "Limits & Derivatives",
                subtitle: "The L'Hospital Hack",
                content: `
                    <div class="fun-intro">Approaching a value without touching it. The foundation of Calculus.</div>

                    <h3>1. Standard Limits</h3>
                    <ul>
                        <li>$\lim_{x\to 0} (\sin x)/x = 1$</li>
                        <li>$\lim_{x\to 0} (e^x - 1)/x = 1$</li>
                    </ul>

                    <h3>2. L'Hospital's Rule (The Golden Hack)</h3>
                    <div class="speed-box">
                        <span class="speed-title">0/0 or ‚àû/‚àû Form?</span>
                        Don't factorize. Just differentiate the Top and Bottom separately and plug the value again.
                        <br>$\lim f(x)/g(x) = \lim f'(x)/g'(x)$
                    </div>
                `
            },
            {
                class: "11",
                type: "Algebra",
                title: "Statistics",
                subtitle: "Mean & Variance",
                content: `
                    <div class="fun-intro">Data Science begins here. Measures of central tendency and dispersion.</div>

                    <h3>1. Variance ($\sigma^2$)</h3>
                    <p>Mean of squares minus square of mean.</p>
                    <div class="formula-box">
                        <em>œÉ¬≤ = (‚àëx¬≤)/n - (‚àëx/n)¬≤</em>
                    </div>

                    <h3>2. Standard Deviation ($\sigma$)</h3>
                    <p>Just the square root of Variance.</p>
                    <p><strong>Shortcut:</strong> If you add/subtract a constant to all numbers, SD doesn't change. If you multiply by $k$, SD becomes $|k|\sigma$.</p>
                `
            },
            {
                class: "11",
                type: "Algebra",
                title: "Probability (11)",
                subtitle: "The Odds",
                content: `
                    <div class="fun-intro">Calculated gambling. P(Event) = Favorable / Total.</div>

                    <h3>1. Events</h3>
                    <ul>
                        <li><strong>Mutually Exclusive:</strong> Cannot happen together ($A \cap B = \emptyset$).</li>
                        <li><strong>Exhaustive:</strong> Fill the sample space ($A \cup B = S$).</li>
                    </ul>

                    <h3>2. Addition Theorem</h3>
                    <div class="formula-box">
                        <em>P(A‚à™B) = P(A) + P(B) - P(A‚à©B)</em>
                    </div>
                `
            },

            // === CLASS 12 (II PUC) ===

            {
                class: "12",
                type: "Algebra",
                title: "Relations & Functions",
                subtitle: "One-One, Onto & Composition",
                content: `
                    <div class="fun-intro">Mapping inputs to outputs.</div>

                    <h3>1. Types of Functions</h3>
                    <ul>
                        <li><strong>One-One (Injective):</strong> Everyone has a unique partner. ($f(x_1)=f(x_2) \Rightarrow x_1=x_2$).</li>
                        <li><strong>Onto (Surjective):</strong> Range = Codomain. No elements left alone in set B.</li>
                        <li><strong>Bijective:</strong> Both One-One and Onto. (Inverse exists only for these!).</li>
                    </ul>

                    <h3>2. Binary Operations</h3>
                    <p>$a * b$. Check for Commutative ($a*b = b*a$) and Associative.</p>
                `
            },
            {
                class: "12",
                type: "Algebra",
                title: "Inverse Trig (ITF)",
                subtitle: "Principal Values",
                content: `
                    <div class="fun-intro">Finding the angle from the value.</div>

                    <h3>1. Domain & Range (Principal Value Branch)</h3>
                    <ul>
                        <li>$\sin^{-1} x$: $[-\pi/2, \pi/2]$</li>
                        <li>$\cos^{-1} x$: $[0, \pi]$</li>
                        <li>$\tan^{-1} x$: $(-\pi/2, \pi/2)$</li>
                    </ul>

                    <h3>2. Properties</h3>
                    <div class="formula-box">
                        <em>sin‚Åª¬πx + cos‚Åª¬πx = œÄ/2</em>
                        <em>tan‚Åª¬πx + cot‚Åª¬πx = œÄ/2</em>
                        <em>tan‚Åª¬πx + tan‚Åª¬πy = tan‚Åª¬π((x+y)/(1-xy))</em>
                    </div>
                `
            },
            {
                class: "12",
                type: "Algebra",
                title: "Matrices & Determinants",
                subtitle: "Solving Linear Systems",
                content: `
                    <div class="fun-intro">Grids of numbers. The language of computer graphics.</div>

                    <h3>1. Determinant Properties</h3>
                    <p>If two rows are identical, Det = 0. Value doesn't change if you do Row - k(Row).</p>

                    <h3>2. Inverse Shortcut (2x2)</h3>
                    <div class="speed-box">
                        <span class="speed-title">Inverse of [[a,b],[c,d]]</span>
                        1. Swap main diagonal (a, d).
                        <br>2. Change sign of other diagonal (b, c).
                        <br>3. Divide by Determinant (ad-bc).
                    </div>

                    <h3>3. Adjoint Property</h3>
                    <p>$A \cdot adj(A) = |A| I$. Also, $|adj A| = |A|^{n-1}$.</p>
                `
            },
            {
                class: "12",
                type: "Calculus",
                title: "Continuity & Diff",
                subtitle: "Chain Rule & Slopes",
                content: `
                    <div class="fun-intro">Calculus starts now. Smooth curves have derivatives. Sharp corners don't.</div>

                    <h3>1. Chain Rule</h3>
                    <p>Differentiate the outside, then go inside. Like peeling an onion.</p>
                    <p>$\frac{d}{dx} \sin(x^2) = \cos(x^2) \cdot 2x$.</p>

                    <h3>2. Implicit Differentiation</h3>
                    <p>When x and y are mixed ($x^2 + y^2 = 4$). Differentiate both sides w.r.t x, keep $dy/dx$ terms on one side.</p>

                    <h3>3. Parametric Form</h3>
                    <p>$dy/dx = (dy/dt) / (dx/dt)$.</p>
                `
            },
            {
                class: "12",
                type: "Calculus",
                title: "Application of Derivatives",
                subtitle: "Maxima, Minima & Rates",
                content: `
                    <div class="fun-intro">Using slopes to find the peak of the mountain.</div>

                    <h3>1. Tangents & Normals</h3>
                    <p>Slope of Tangent $m = dy/dx$. Slope of Normal = $-1/m$.</p>

                    <h3>2. Maxima & Minima</h3>
                    <ul>
                        <li>Step 1: Find $f'(x)$ and set to 0. (Critical Points).</li>
                        <li>Step 2: Find $f''(x)$.</li>
                        <li>If $f'' < 0$ ‚Üí Maxima (Sad parabola).</li>
                        <li>If $f'' > 0$ ‚Üí Minima (Happy parabola).</li>
                    </ul>

                    <h3>3. Increasing/Decreasing</h3>
                    <p>Increasing if $f'(x) > 0$. Decreasing if $f'(x) < 0$.</p>
                `
            },
            {
                class: "12",
                type: "Calculus",
                title: "Integrals",
                subtitle: "Reverse Differentiation",
                content: `
                    <div class="fun-intro">Finding the Area. $+ C$ is important!</div>

                    <h3>1. Integration by Parts</h3>
                    <p>$\int u v dx = u \int v - \int (u' \int v)$. Use <strong>ILATE</strong> rule to choose u.</p>

                    <h3>2. The King's Property (Definite)</h3>
                    <div class="speed-box">
                        <span class="speed-title">The King</span>
                        $\int_a^b f(x) dx = \int_a^b f(a+b-x) dx$.
                        <br>Use this when denominator is same as numerator! Answer is usually $(b-a)/2$.
                    </div>
                `
            },
            {
                class: "12",
                type: "Calculus",
                title: "App of Integrals",
                subtitle: "Area Under Curve",
                content: `
                    <div class="fun-intro">Summing up infinite rectangles.</div>

                    <h3>1. Area Formula</h3>
                    <div class="formula-box">
                        <em>Area = ‚à´ y dx</em> (limits on x-axis)
                        <em>Area = ‚à´ x dy</em> (limits on y-axis)
                    </div>

                    <h3>2. Standard Areas (Memorize!)</h3>
                    <ul>
                        <li>Circle ($x^2+y^2=a^2$): Area = $\pi a^2$.</li>
                        <li>Ellipse: Area = $\pi ab$.</li>
                        <li>Parabola ($y^2=4ax$) and Line ($y=mx$): Area = $8a^2 / 3m^3$.</li>
                    </ul>
                `
            },
            {
                class: "12",
                type: "Calculus",
                title: "Differential Eq",
                subtitle: "Solving Equations with Derivatives",
                content: `
                    <div class="fun-intro">Finding the function when you know its rate of change.</div>

                    <h3>1. Order & Degree</h3>
                    <p>Order: Highest derivative. Degree: Power of highest derivative (only if polynomial in derivatives).</p>

                    <h3>2. Linear DE</h3>
                    <p>Form: $dy/dx + Py = Q$.</p>
                    <div class="formula-box">
                        <strong>Integrating Factor</strong>
                        <em>IF = e^(‚à´P dx)</em>
                        <strong>Solution</strong>
                        <em>y(IF) = ‚à´(Q √ó IF) dx + C</em>
                    </div>
                `
            },
            {
                class: "12",
                type: "Geometry",
                title: "Vector Algebra",
                subtitle: "Dot & Cross Products",
                content: `
                    <div class="fun-intro">Magnitude + Direction.</div>

                    <h3>1. Scalar (Dot) Product</h3>
                    <p>$a \cdot b = |a||b|\cos\theta$.</p>
                    <p>If $a \cdot b = 0$, vectors are <strong>Perpendicular</strong>.</p>
                    <p>Formula: $a_1b_1 + a_2b_2 + a_3b_3$.</p>

                    <h3>2. Vector (Cross) Product</h3>
                    <p>$a \times b = |a||b|\sin\theta \hat{n}$.</p>
                    <p>Result is a vector perpendicular to BOTH a and b.</p>
                    <p>Calculated using Determinant method.</p>

                    <h3>3. Projection</h3>
                    <p>Projection of a on b = $(a \cdot b) / |b|$.</p>
                `
            },
            {
                class: "12",
                type: "Geometry",
                title: "3D Geometry",
                subtitle: "Lines & Planes in Space",
                content: `
                    <div class="fun-intro">Vectors applied to geometry. Direction Cosines ($l, m, n$).</div>

                    <h3>1. Direction Cosines</h3>
                    <p>$l^2 + m^2 + n^2 = 1$. ($cos^2\alpha + cos^2\beta + cos^2\gamma = 1$).</p>

                    <h3>2. Shortest Distance (Skew Lines)</h3>
                    <p>Lines that never meet and are not parallel.</p>
                    <div class="formula-box">
                        <em>d = |(b‚ÇÅ √ó b‚ÇÇ) ‚Ä¢ (a‚ÇÇ - a‚ÇÅ)| / |b‚ÇÅ √ó b‚ÇÇ|</em>
                    </div>
                    <p>If d=0, lines intersect.</p>
                `
            },
            {
                class: "12",
                type: "Algebra",
                title: "LPP (Linear Prog)",
                subtitle: "Maximizing Profit",
                content: `
                    <div class="fun-intro">Optimization. Used by businesses everywhere.</div>

                    <h3>1. Corner Point Method</h3>
                    <div class="speed-box">
                        <span class="speed-title">The Strategy</span>
                        1. Draw the lines.
                        <br>2. Find Feasible Region (Common shaded area).
                        <br>3. Find Coordinates of Corner Points.
                        <br>4. Plug points into Z = ax + by.
                        <br>Max/Min value occurs AT A CORNER.
                    </div>
                `
            },
            {
                class: "12",
                type: "Algebra",
                title: "Probability (12)",
                subtitle: "Bayes & Distributions",
                content: `
                    <div class="fun-intro">Advanced gambling. Conditional Probability: P(A|B) = P(A‚à©B) / P(B).</div>

                    <h3>1. Independent Events</h3>
                    <p>$P(A \cap B) = P(A) \cdot P(B)$.</p>

                    <h3>2. Bayes' Theorem</h3>
                    <p>Reverse Probability. Finding the cause from the effect.</p>

                    <h3>3. Bernoulli Trials (Binomial Dist)</h3>
                    <div class="formula-box">
                        <em>P(X=r) = nCr p^r q^{n-r}</em>
                    </div>
                    <p>p = success, q = failure ($1-p$).</p>
                `
            }
        ];

        // --- 2. APP LOGIC ---
        
        const listContainer = document.getElementById('topic-list');
        const reader = document.getElementById('reader-overlay');
        const readerTitle = document.getElementById('reader-title');
        const readerBody = document.getElementById('reader-body');
        const readerCat = document.getElementById('reader-category');

        // Initial Render
        function init() {
            let currentClass = "";
            
            mathData.forEach((topic, index) => {
                // Add Section Header if class changes
                if(topic.class !== currentClass) {
                    const header = document.createElement('div');
                    header.className = 'section-header';
                    header.innerText = `Class ${topic.class} Syllabus`;
                    listContainer.appendChild(header);
                    currentClass = topic.class;
                }

                const card = document.createElement('div');
                card.className = `topic-card`;
                
                // Color coding tags
                let tagClass = 'tag-alg';
                if(topic.type === 'Calculus') tagClass = 'tag-calc';
                if(topic.type === 'Geometry') tagClass = 'tag-geom';

                card.innerHTML = `
                    <div class="topic-info">
                        <span class="topic-title">${topic.title}</span>
                        <span class="topic-subtitle">${topic.subtitle}</span>
                        <span class="topic-tag ${tagClass}">${topic.type}</span>
                    </div>
                `;
                card.onclick = () => openReader(index);
                listContainer.appendChild(card);
            });
        }

        function openReader(index) {
            const data = mathData[index];
            readerTitle.innerHTML = data.title;
            readerCat.innerText = `Class ${data.class} ‚Ä¢ ${data.type}`;
            readerBody.innerHTML = data.content;
            
            reader.style.display = 'flex';
            setTimeout(() => {
                reader.classList.add('visible');
            }, 10);
        }

        function closeReader() {
            reader.classList.remove('visible');
            setTimeout(() => {
                reader.style.display = 'none';
            }, 300);
        }

        // Run
        init();

        // Check Login
        if (!localStorage.getItem('kcet_user')) { window.location.href = 'index.html'; }

    </script>
</body>
</html>